"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[73],{2073:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var r=t(2791),a=t(7689),o=t(5048),s=t(8650),c=t(5295),i=t(5241),u=t(5442),l=t(3329),d=function(){var e=(0,o.I0)(),n=(0,o.v9)((function(e){return e.filter}));return(0,l.jsxs)(i.K,{w:"400px",mx:"auto",my:"6",spacing:4,children:[(0,l.jsx)("p",{children:" Find contacts by name"}),(0,l.jsx)(u.I,{onChange:function(n){e((0,c.T)(n.currentTarget.value.toLowerCase()))},value:n,type:"text",name:"filter"})]})},h=t(1413),m=t(6501),p=t(9439),x=t(9085),f=t(4087),b=t(176),j=t(4224),g=function(e){var n=e.name,t=e.number,a=e.id,o=(0,m.zr)(),s=(0,p.Z)(o,2),c=s[0],i=s[1],u=i.isLoading,d=i.isSuccess,h=i.error;return(0,r.useEffect)((function(){d&&x.Am.info(" ".concat(n," was removed from the phone book")),h&&x.Am.error("oops something went wrong")}),[d,n,h]),(0,l.jsx)(f.xu,{mb:"5",children:(0,l.jsxs)(b.k,{alignItems:"center",justifyContent:"space-between",w:"400px",mb:"5",children:[n,": ",t,(0,l.jsx)(j.z,{type:"button",onClick:function(){return c(a)},disabled:u,children:u?"Delete...":"Delete"})]})},a)},v=t(3204),w=function(){var e=(0,m.pG)(),n=e.data,t=e.isFetching,r=(0,o.v9)((function(e){return e.filter})),a=n&&n.filter((function(e){return e.name.toLowerCase().includes(r)}));return(0,l.jsxs)(l.Fragment,{children:[n&&0!==n.length&&(0,l.jsx)("ul",{children:0!==a.length?a.map((function(e){return(0,l.jsx)(g,(0,h.Z)({},e),e.id)})):(0,l.jsxs)("p",{children:["no search contacts: ",r]})}),n&&0===n.length&&(0,l.jsx)("p",{children:"'You have no contacts'"}),t&&(0,l.jsx)(v.$,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"blue.500",size:"xl"})]})},C=function(){var e=(0,m.F3)(),n=(0,p.Z)(e,2),t=n[0],a=n[1],o=a.isLoading,s=a.isSuccess,c=a.error,d=(0,m.pG)().data,h=(0,r.useState)(""),f=(0,p.Z)(h,2),b=f[0],g=f[1],v=(0,r.useState)(""),w=(0,p.Z)(v,2),C=w[0],y=w[1],k=(0,r.useState)(""),A=(0,p.Z)(k,2),Z=A[0],z=A[1];(0,r.useEffect)((function(){s&&x.Am.success(" ".concat(Z," added to contact book"),{autoClose:800}),c&&x.Am.error("oops something went wrong")}),[c,s,Z]);var S=function(e){var n=e.currentTarget,t=n.name,r=n.value;switch(t){case"name":g(r);break;case"number":y(r);break;default:return}};return(0,l.jsx)("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault(),z(b),d.every((function(e){return e.name.toLowerCase()!==b.toLowerCase()}))?t({name:b,number:C}):x.Am.error("".concat(b," is alredy in contacts!!!")),g(""),y("")},children:(0,l.jsxs)(i.K,{w:"400px",mx:"auto",my:"6",spacing:4,children:[(0,l.jsx)("p",{children:"Name"}),(0,l.jsx)(u.I,{onChange:S,value:b,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,placeholder:"John Dou"}),(0,l.jsx)("p",{children:"Number"}),(0,l.jsx)(u.I,{onChange:S,value:C,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,placeholder:"000-111-22-33"}),(0,l.jsx)(j.z,{colorScheme:"gray",type:"submit",disabled:!C||!b,children:o?"Add Contact...Spiner":"Add Contact"})]})})},y=t(5946),k=function(){var e=(0,o.v9)(s.Vp);return(0,l.jsxs)(f.xu,{w:"400px",mx:"auto",my:"6",children:[!e&&(0,l.jsx)(a.Fg,{to:"/",replace:!0}),(0,l.jsx)(y.X,{mb:5,children:"Phonebook"}),(0,l.jsx)(C,{}),(0,l.jsx)(y.X,{mb:5,children:"Contacts"}),(0,l.jsx)(d,{}),(0,l.jsx)(w,{})]})}}}]);
//# sourceMappingURL=73.ee81abb7.chunk.js.map